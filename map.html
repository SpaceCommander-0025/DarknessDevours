<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Map</title>
    <link rel="stylesheet" href="style.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Uncial+Antiqua&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1 class="title">Interactive Map</h1>
        <p class="subtitle">What's around us?</p>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="sessionnotes.html">Session Notes</a></li>
                <li><a href="lore.html">World Lore</a></li>
                <li><a href="characters.html">Characters and NPC's</a></li>
                <li><a href="items.html">Items</a></li>
            </ul>
        </nav>
    </header>

    <main>

          <div class="tabs">
            <div class="tab-buttons">
              <button class="tab-button active" onclick="switchTab('search-tab')">Search</button>
              <button class="tab-button" onclick="switchTab('map-tab')">Map</button>
              <button class="tab-button" onclick="switchTab('about-tab')">About</button>
            </div>
        
            <!-- Tab: Search -->
            <section id="search-tab" class="tab-content active">
            <div class="location-panel">
              <h2>Search for a Location</h2>
              <input type="text" id="searchInput" placeholder="Type location name..." />
              <button onclick="searchLocation()">Search</button>
              <div id="results"></div>
                <div class="image-gallery">
                    <img src="image.png" alt="Witch Hut">
                    <img src="path/to/image2.jpg" alt="Image 2">
                </div>
            </div>
            </section>
        
            <!-- Tab: Map -->
            <section id="map-tab" class="tab-content">
              <h2>Interactive Map</h2>
              <div class="map-container">
                <img src="images/nocctherra.jpg" alt="Campaign Map" class="map" />
              </div>
            </section>
        
            <!-- Tab: About -->
            <section id="about-tab" class="tab-content">
              <h2>About This Map</h2>
              <p>This interactive map helps you explore key locations in your campaign world. Use the search feature or click directly on the map when hotspots are added.</p>
            </section>
          </div>


        <!-- <h2>Search for a Location</h2>
          <input type="text" id="searchInput" placeholder="Type location name..." />
          <button onclick="searchLocation()">Search</button>
        
          <div id="results"></div>

        <section id="map">
            <h2>Interactive Map</h2>

            <div class="map-container">
                <img src="images/nocctherra.jpg" alt="Campaign Map" class="map" />
            </div> -->

            <!-- <div class="hotspot-container" style="top: 150px; left: 150px;">
                  <a href="#location1" class="hotspot"></a>
                  <div class="popup">Crypt of the Forgotten</div>
                </div> -->
        </section>
    </main>
    <script>

        function switchTab(tabId) {
          // Hide all tab contents
          document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
          });
        
          // Remove 'active' from all tab buttons
          document.querySelectorAll('.tab-button').forEach(btn => {
            btn.classList.remove('active');
          });
        
          // Show the selected tab
          document.getElementById(tabId).classList.add('active');
        
          // Set the clicked button to active
          const clickedButton = Array.from(document.querySelectorAll('.tab-button'))
            .find(btn => btn.textContent.toLowerCase().includes(tabId.split('-')[0]));
          if (clickedButton) clickedButton.classList.add('active');
        }

    // Sample location data
    const locations = [
      {
        name: "Witchglass Lake",
        description: `Long forgotten amongst time, a powerful witch is said to have lived and died by witchglass. Witchglass being her own potion full of enhanced abilities and sight.
            Some believe she was eventually able to look into the lake and see whatever it was she desired to see. Almost like the glass of a mirror. Until she tried to walk on the lake to get a better look, she drowned.
            
            Ever since, adventurers and common folk alike who travel up near witchglass lake are often never heard from again. Those that have on a rare occassion, are forever changed.
            `,
        images: ["images/image.png", "images/tomb_fire2.jpg"]
      },
      {
        name: "Statue of Liberty",
        description: "Iconic national monument located in New York Harbor."
      },
      {
        name: "Eiffel Tower",
        description: "A wrought-iron lattice tower in Paris, France."
      }
    ];

        function searchLocation() {
          const input = document.getElementById('searchInput').value.toLowerCase();
          const resultDiv = document.getElementById('results');
          const matches = locations.filter(loc => loc.name.toLowerCase().includes(input));
        
          if (matches.length === 0) {
            resultDiv.innerHTML = `<p>No location found with that name.</p>`;
            return;
          }
        
          // Show each match as a styled panel
          resultDiv.innerHTML = matches.map(loc => {
            const imagesHTML = loc.images?.map(src => `<img src="${src}" alt="${loc.name} image">`).join('') || '';
            return `
              <div class="location-panel">
                <h3>${loc.name}</h3>
                <p>${loc.description.trim()}</p>
                <div class="image-gallery">${imagesHTML}</div>
              </div>
            `;
          }).join('');
        }

    // function searchLocation() {
    //   const input = document.getElementById('searchInput').value.toLowerCase();
    //   const resultDiv = document.getElementById('results');
    //   const match = locations.find(loc => loc.name.toLowerCase().includes(input));

    //   if (match) {
    //     resultDiv.innerHTML = `
    //       <h3>${match.name}</h3>
    //       <p>${match.description}</p>
    //     `;
    //   } else {
    //     resultDiv.innerHTML = `<p>No location found with that name.</p>`;
    //   }
    // }
  </script>
</body>
</html>
